pipeline {
    agent {
            
        label 'AGENT-1'
    }

    options{
        timeout(time:100, unit: "MINUTES")
    
    
        disableConcurrentBuilds()    
        retry(1)    
    }

   
    
    stages {
        stage('Build') {
            steps {
                
                   sh ' echo  this is build'
                    // sh 'sleep 10'
                  }
    }
    stage ('Test'){
        steps   {
                sh ' echo  this is test'
                }
        }
    stage ('Deploy') {
        steps {
            sh 'echo this is deploy'
            error 'pipeline failed'
        }
    }
    }

    post {
        always {
            echo "this project aways runs"
            deleteDir()
        }
        success {
            echo "this section run when pipeline success"
        }
        failure {
            echo "this section run when pipeline fails"
        }    
    }
}